# 最大矩形

$dp[i][j][0]$表示以该点向左移动的最大宽度，$dp[i][j][1]$则表示向上移动的最大高度，$t$表示当前点的数值。

状态方程为：
$$
dp[i][j][0]=\left\{ \begin{array}{}&dp[i][j-1]+1&,i=1\\
&0&,i=0\end{array} \right. \\
dp[i][j][1]=\left\{ \begin{array}{}&dp[i-1][j]+1&,i=1\\
&0&,i=0\end{array} \right.
$$


面积$s$初始化为0，若矩阵为空，自然面积为0，为获取全局的最大面积，我们在每种情况中都设置$s$的更新。

考虑到四种情况：

- $i=0 \&\& j=0$，此时对象为最左上角的点，它既没有左边的点也没有上面的点，因此需要单独处理，$dp[i][j]=t$。

  更新$s=max(s, t)$。

- $i=0 \&\&j!=0$，此时对象没有左方的点：
  $$
  dp[i][j][1]=t\\
  dp[i][j][0]=\left\{ \begin{array}{}&dp[i][j-1]+1&,i=1\\
  &0&,i=0\end{array} \right.
  $$
  更新$s=max(s,dp[i][j][0])$。

- $i!=0 \&\&j=0$，此时对象没有上方的点，
  $$
  dp[i][j][0]=t\\
  dp[i][j][1]=\left\{ \begin{array}{}&dp[i-1][j]+1&,i=1\\
  &0&,i=0\end{array} \right.
  $$
  更新$s=max(s,dp[i][j][1])$。

- $i!=0\&\&j!=0$，此时对象符合初始的状态方程。

  取最大宽度$w$，最大高度$h$，令$1<=k<=w$，遍历所有可能宽度。

  由于最大面积只受最小的高度影响，在遍历宽度的过程中，找出最小的高度$minh=min(dp[i][j-k+1][1],h)$。

  更新$s=max(s, k*minh)$。